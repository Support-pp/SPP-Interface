!function(){var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),k=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(c){return c.getParam("noneditable_noneditable_class","mceNonEditable")},b=function(c){return c.getParam("noneditable_editable_class","mceEditable")},h=function(c){var d=c.getParam("noneditable_regexp",[]);return d&&d.constructor===RegExp?[d]:d},g=function(c){return function(d){return -1!==(" "+d.attr("class")+" ").indexOf(c)}},i=function(d,f,l){return function(m){var q=arguments,p=q[q.length-2],o=0<p?f.charAt(p-1):"";if('"'===o){return m}if(">"===o){var c=f.lastIndexOf("<",p);if(-1!==c&&-1!==f.substring(c,p).indexOf('contenteditable="false"')){return m}}return'<span class="'+l+'" data-mce-content="'+d.dom.encode(q[0])+'">'+d.dom.encode("string"==typeof q[1]?q[1]:q[0])+"</span>"}},j=function(q){var f,m,l="contenteditable";f=" "+k.trim(b(q))+" ",m=" "+k.trim(a(q))+" ";var c=g(f),d=g(m),p=h(q);q.on("PreInit",function(){0<p.length&&q.on("BeforeSetContent",function(n){!function(s,w,v){var u=w.length,o=v.content;if("raw"!==v.format){for(;u--;){o=o.replace(w[u],i(s,o,a(s)))}v.content=o}}(q,p,n)}),q.parser.addAttributeFilter("class",function(o){for(var s,r=o.length;r--;){s=o[r],c(s)?s.attr(l,"true"):d(s)&&s.attr(l,"false")}}),q.serializer.addAttributeFilter(l,function(o){for(var s,r=o.length;r--;){s=o[r],(c(s)||d(s))&&(0<p.length&&s.attr("data-mce-content")?(s.name="#text",s.type=3,s.raw=!0,s.value=s.attr("data-mce-content")):s.attr(l,null))}})})};e.add("noneditable",function(c){j(c)})}();
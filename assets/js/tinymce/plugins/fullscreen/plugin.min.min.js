!function(){var j=function(g){var i=g,c=function(){return i};return{get:c,set:function(l){i=l},clone:function(){return j(c())}}},p=tinymce.util.Tools.resolve("tinymce.PluginManager"),s=function(c){return{isFullscreen:function(){return null!==c.get()}}},d=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),f=function(c,g){c.fire("FullscreenStateChanged",{state:g})},k=d.DOM,a=function(A,v){var F,g,w,x,m,C,G=document.body,E=document.documentElement,B=v.get(),D=function(){var o,r,l,c;k.setStyle(w,"height",(l=window,c=document.body,c.offsetWidth&&(o=c.offsetWidth,r=c.offsetHeight),l.innerWidth&&l.innerHeight&&(o=l.innerWidth,r=l.innerHeight),{w:o,h:r}).h-(g.clientHeight-w.clientHeight))},y=function(){k.unbind(window,"resize",D)};if(F=(g=A.getContainer()).style,x=(w=A.getContentAreaContainer().firstChild).style,B){x.width=B.iframeWidth,x.height=B.iframeHeight,B.containerWidth&&(F.width=B.containerWidth),B.containerHeight&&(F.height=B.containerHeight),k.removeClass(G,"mce-fullscreen"),k.removeClass(E,"mce-fullscreen"),k.removeClass(g,"mce-fullscreen"),m=B.scrollPos,window.scrollTo(m.x,m.y),k.unbind(window,"resize",B.resizeHandler),A.off("remove",B.removeHandler),v.set(null),f(A,!1)}else{var z={scrollPos:(C=k.getViewPort(),{x:C.x,y:C.y}),containerWidth:F.width,containerHeight:F.height,iframeWidth:x.width,iframeHeight:x.height,resizeHandler:D,removeHandler:y};x.width=x.height="100%",F.width=F.height="",k.addClass(G,"mce-fullscreen"),k.addClass(E,"mce-fullscreen"),k.addClass(g,"mce-fullscreen"),k.bind(window,"resize",D),A.on("remove",y),D(),v.set(z),f(A,!0)}},h=function(c,g){c.addCommand("mceFullScreen",function(){a(c,g)})},b=function(c){return function(g){var i=g.control;c.on("FullscreenStateChanged",function(l){i.active(l.state)})}},q=function(c){c.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:b(c),context:"view"}),c.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:b(c)})};p.add("fullscreen",function(c){var g=j(null);return c.settings.inline||(h(c,g),q(c),c.addShortcut("Ctrl+Shift+F","","mceFullScreen")),s(g)})}();
!function(){var am=function(b){var a=b,c=function(){return a};return{get:c,set:function(d){a=d},clone:function(){return am(c())}}},an=tinymce.util.Tools.resolve("tinymce.PluginManager"),au=function(a){return !(!/(^|[ ,])powerpaste([, ]|$)/.test(a.settings.plugins)||!an.get("powerpaste")||("undefined"!=typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))},ao=function(b,a){return{clipboard:b,quirks:a}},aG=function(c,a,d,b){return c.fire("PastePreProcess",{content:a,internal:d,wordContent:b})},aI=function(c,a,d,b){return c.fire("PastePostProcess",{node:a,internal:d,wordContent:b})},az=function(b,a){return b.fire("PastePlainTextToggle",{state:a})},av=function(b,a){return b.fire("paste",{ieFake:a})},aw={shouldPlainTextInform:function(a){return a.getParam("paste_plaintext_inform",!0)},shouldBlockDrop:function(a){return a.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(a){return a.getParam("paste_data_images",!1)},shouldFilterDrop:function(a){return a.getParam("paste_filter_drop",!0)},getPreProcess:function(a){return a.getParam("paste_preprocess")},getPostProcess:function(a){return a.getParam("paste_postprocess")},getWebkitStyles:function(a){return a.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(a){return a.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(a){return a.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(a){return a.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(a){return a.getParam("paste_as_text",!1)},getRetainStyleProps:function(a){return a.getParam("paste_retain_style_properties")},getWordValidElements:function(a){return a.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(a){return a.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(a){return a.getParam("paste_enable_default_filters",!0)}},ap=function(g,d,h){var f,b,c;"text"===d.pasteFormat.get()?(d.pasteFormat.set("html"),az(g,!1)):(d.pasteFormat.set("text"),az(g,!0),c=g,!1===h.get()&&aw.shouldPlainTextInform(c)&&(b="Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.",(f=g).notificationManager.open({text:f.translate(b),type:"info"}),h.set(!0))),g.focus()},aJ=function(b,c,a){b.addCommand("mceTogglePlainTextPaste",function(){ap(b,c,a)}),b.addCommand("mceInsertClipboardContent",function(f,d){d.content&&c.pasteHtml(d.content,d.internal),d.text&&c.pasteText(d.text)})},al=tinymce.util.Tools.resolve("tinymce.Env"),aD=tinymce.util.Tools.resolve("tinymce.util.Delay"),aM=tinymce.util.Tools.resolve("tinymce.util.Tools"),aN=tinymce.util.Tools.resolve("tinymce.util.VK"),aH="x-tinymce/html",aC="\x3c!-- "+aH+" --\x3e",at=function(a){return aC+a},aF=function(a){return a.replace(aC,"")},ai=function(a){return -1!==a.indexOf(aC)},aj=function(){return aH},a0=tinymce.util.Tools.resolve("tinymce.html.Entities"),ak=function(a){return a.replace(/\r?\n/g,"<br>")},aO=function(g,d,j){var f=g.split(/\n\n/),b=function(m,k){var o,l=[],i="<"+m;if("object"==typeof k){for(o in k){k.hasOwnProperty(o)&&l.push(o+'="'+a0.encodeAllRaw(k[o])+'"')}l.length&&(i+=" "+l.join(" "))}return i+">"}(d,j),c="</"+d+">",h=aM.map(f,function(a){return a.split(/\n/).join("<br />")});return 1===h.length?h[0]:aM.map(h,function(a){return b+a+c}).join("")},bg=function(a){return !/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(a)},aV=function(b,a,c){return a?aO(b,a,c):ak(b)},bi=tinymce.util.Tools.resolve("tinymce.html.DomParser"),aA=tinymce.util.Tools.resolve("tinymce.html.Node"),aY=tinymce.util.Tools.resolve("tinymce.html.Schema"),bd=tinymce.util.Tools.resolve("tinymce.html.Serializer");function bf(a,b){return aM.each(b,function(c){a=c.constructor===RegExp?a.replace(c,""):a.replace(c[0],c[1])}),a}var aX={filter:bf,innerText:function(d){var k=aY(),g=bi({},k),b="",c=k.getShortEndedElements(),j=aM.makeMap("script noscript style textarea video audio iframe object"," "),f=k.getBlockElements();return d=bf(d,[/<!\[[^\]]+\]>/g]),function h(a){var i=a.name,e=a;if("br"!==i){if(c[i]&&(b+=" "),j[i]){b+=" "}else{if(3===a.type&&(b+=a.value),!a.shortEnded&&(a=a.firstChild)){for(;h(a),a=a.next;){}}f[i]&&e.next&&(b+="\n","p"===i&&(b+="\n"))}}else{b+="\n"}}(g.parse(d)),b},trimHtml:function(a){return a=bf(a,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(c,b,d){return b||d?"\xa0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(b){var a=0;return function(){return b+a++}},isMsEdge:function(){return -1!==navigator.userAgent.indexOf(" Edge/")}};function a9(a){var c,b;return b=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],a=a.replace(/^[\u00a0 ]+/,""),aM.each(b,function(d){if(d.test(a)){return !(c=!0)}}),c}function a5(p){var k,g,z=1;function h(c){var a="";if(3===c.type){return c.value}if(c=c.firstChild){for(;a+=h(c),c=c.next;){}}return a}function j(c,a){if(3===c.type&&a.test(c.value)){return c.value=c.value.replace(a,""),!1}if(c=c.firstChild){do{if(!j(c,a)){return !1}}while(c=c.next)}return !0}function y(d,l,f){var c=d._listLevel||z;c!==z&&(c<z?k&&(k=k.parent.parent):(g=k,k=null)),k&&k.name===l?k.append(d):(g=g||k,k=new aA(l,1),1<f&&k.attr("start",""+f),d.wrap(k)),d.name="li",z<c&&g&&g.lastChild.append(k),z=c,function i(a){if(a._listIgnore){a.remove()}else{if(a=a.firstChild){for(;i(a),a=a.next;){}}}}(d),j(d,/^\u00a0+/),j(d,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),j(d,/^\u00a0+/)}for(var b=[],w=p.firstChild;null!=w;){if(b.push(w),null!==(w=w.walk())){for(;void 0!==w&&w.parent!==p;){w=w.walk()}}}for(var x=0;x<b.length;x++){if("p"===(p=b[x]).name&&p.firstChild){var v=h(p);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(v)){y(p,"ul");continue}if(a9(v)){var m=/([0-9]+)\./.exec(v),q=1;m&&(q=parseInt(m[1],10)),y(p,"ol",q);continue}if(p._listLevel){y(p,"ul",1);continue}k=null}else{g=k,k=null}}}function a1(j,f,b,c){var h,d={},g=j.dom.parseStyle(c);return aM.each(g,function(i,a){switch(a){case"mso-list":(h=/\w+ \w+([0-9]+)/i.exec(c))&&(b._listLevel=parseInt(h[1],10)),/Ignore/i.test(i)&&b.firstChild&&(b._listIgnore=!0,b.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void ("normal"!==i&&(d[a]=i));case"mso-element":if(/^(comment|comment-list)$/i.test(i)){return void b.remove()}}0!==a.indexOf("mso-comment")?0!==a.indexOf("mso-")&&("all"===aw.getRetainStyleProps(j)||f&&f[a])&&(d[a]=i):b.remove()}),/(bold)/i.test(d["font-weight"])&&(delete d["font-weight"],b.wrap(new aA("b",1))),/(italic)/i.test(d["font-style"])&&(delete d["font-style"],b.wrap(new aA("i",1))),(d=j.dom.serializeStyle(d,b.name))||null}var bk={preProcess:function(b,a){return aw.shouldUseDefaultFilters(b)?function(h,j){var f,c;(f=aw.getRetainStyleProps(h))&&(c=aM.makeMap(f.split(/[, ]/))),j=aX.filter(j,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(m,i){return 0<i.length?i.replace(/./," ").slice(Math.floor(i.length/2)).split("").join("\xa0"):""}]]);var l=aw.getWordValidElements(h),d=aY({valid_elements:l,valid_children:"-li[p]"});aM.each(d.elements,function(i){i.attributes["class"]||(i.attributes["class"]={},i.attributesOrder.push("class")),i.attributes.style||(i.attributes.style={},i.attributesOrder.push("style"))});var k=bi({},d);k.addAttributeFilter("style",function(m){for(var i,o=m.length;o--;){(i=m[o]).attr("style",a1(h,c,i,i.attr("style"))),"span"===i.name&&i.parent&&!i.attributes.length&&i.unwrap()}}),k.addAttributeFilter("class",function(o){for(var i,p,m=o.length;m--;){p=(i=o[m]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(p)&&i.remove(),i.attr("class",null)}}),k.addNodeFilter("del",function(m){for(var i=m.length;i--;){m[i].remove()}}),k.addNodeFilter("a",function(p){for(var m,q,o,i=p.length;i--;){if(q=(m=p[i]).attr("href"),o=m.attr("name"),q&&-1!==q.indexOf("#_msocom_")){m.remove()}else{if(q&&0===q.indexOf("file://")&&(q=q.split("#")[1])&&(q="#"+q),q||o){if(o&&!/^_?(?:toc|edn|ftn)/i.test(o)){m.unwrap();continue}m.attr({href:q,name:o})}else{m.unwrap()}}}});var g=k.parse(j);return aw.shouldConvertWordFakeLists(h)&&a5(g),j=bd({validate:h.settings.validate},d).serialize(g)}(b,a):a},isWordContent:function(a){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(a)||/class="OutlineElement/.test(a)||/id="?docs\-internal\-guid\-/.test(a)}},bb=function(b,a){return{content:b,cancelled:a}},bj=function(j,q,f,b){var m,h,d,v,g,p,k=aG(j,q,f,b);return j.hasEventListeners("PastePostProcess")&&!k.isDefaultPrevented()?(m=j,h=k.content,d=f,v=b,g=m.dom.create("div",{style:"display:none"},h),p=aI(m,g,d,v),bb(p.node.innerHTML,p.isDefaultPrevented())):bb(k.content,k.isDefaultPrevented())},a6=function(f,c,g){var d=bk.isWordContent(c),b=d?bk.preProcess(f,c):c;return bj(f,b,g,d)},bp=function(b,a){return b.insertContent(a,{merge:aw.shouldMergeFormats(b),paste:!0}),!0},aB=function(a){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(a)},aS=function(a){return aB(a)&&/.(gif|jpe?g|png)$/.test(a)},a3=function(g,d,h){return !(!1!==g.selection.isCollapsed()||!aB(d)||(b=d,c=h,(f=g).undoManager.extra(function(){c(f,b)},function(){f.execCommand("mceInsertLink",!1,b)}),0));var f,b,c},aT=function(g,d,h){return !!aS(d)&&(b=d,c=h,(f=g).undoManager.extra(function(){c(f,b)},function(){f.insertContent('<img src="'+b+'">')}),!0);var f,b,c},ah=function(c,a){var d,b;!1===aw.isSmartPasteEnabled(c)?bp(c,a):(d=c,b=a,aM.each([a3,aT,bp],function(f){return !0!==f(d,b,bp)}))},a7=function(f,c,g){var d=g||ai(c),b=a6(f,aF(c),d);!1===b.cancelled&&ah(f,b.content)},aU=function(b,a){a=b.dom.encode(a).replace(/\r\n/g,"\n"),a=aV(a,b.settings.forced_root_block,b.settings.forced_root_block_attrs),a7(b,a,!1)},bc=function(g){var d={};if(g){if(g.getData){var h=g.getData("Text");h&&0<h.length&&-1===h.indexOf("data:text/mce-internal,")&&(d["text/plain"]=h)}if(g.types){for(var f=0;f<g.types.length;f++){var b=g.types[f];try{d[b]=g.getData(b)}catch(c){d[b]=""}}}}return d},aR=function(b,a){return a in b&&0<b[a].length},ar=function(a){return aR(a,"text/html")||aR(a,"text/plain")},aQ=aX.createIdGenerator("mceclip"),aP=function(H,q,A,x){q&&(H.selection.setRng(q),q=null);var L,D,z,w,C,k,J,G=A.result,I=-1!==(D=(L=G).indexOf(","))?L.substr(D+1):null,B=aQ(),y=H.settings.images_reuse_filename&&x.name?(z=H,w=x.name,(C=w.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?z.dom.encode(C[1]):null):B,F=new Image;if(F.src=G,k=H.settings,J=F,!k.images_dataimg_filter||k.images_dataimg_filter(J)){var j,E=H.editorUpload.blobCache,K=void 0;(j=E.findFirst(function(a){return a.base64()===I}))?K=j:(K=E.create(B,x,I,y),E.add(K)),a7(H,'<img src="'+K.blobUri()+'">',!1)}else{a7(H,'<img src="'+G+'">',!1)}},a8=function(f,c,a){var d="paste"===c.type?c.clipboardData:c.dataTransfer;function b(l){var j,m,k,g=!1;if(l){for(j=0;j<l.length;j++){if(m=l[j],/^image\/(jpeg|png|gif|bmp)$/.test(m.type)){var h=m.getAsFile?m.getAsFile():m;(k=new window.FileReader).onload=aP.bind(null,f,a,k,h),k.readAsDataURL(h),c.preventDefault(),g=!0}}}return g}if(f.settings.paste_data_images&&d){return b(d.items)||b(d.files)}},aZ=function(a){return aN.metaKeyPressed(a)&&86===a.keyCode||a.shiftKey&&45===a.keyCode},ab=function(j,e,i){var a,h=0;function b(k,f,l,g){var c,d;aR(k,"text/html")?c=k["text/html"]:(c=e.getHtml(),g=g||ai(c),e.isDefaultContent(c)&&(l=!0)),c=aX.trimHtml(c),e.remove(),d=!1===g&&bg(c),c.length&&!d||(l=!0),l&&(c=aR(k,"text/plain")&&d?k["text/plain"]:aX.innerText(c)),e.isDefaultContent(c)?f||j.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):l?aU(j,c):a7(j,c,g)}j.on("keydown",function(d){function c(f){aZ(f)&&!f.isDefaultPrevented()&&e.remove()}if(aZ(d)&&!d.isDefaultPrevented()){if((a=d.shiftKey&&86===d.keyCode)&&al.webkit&&-1!==navigator.userAgent.indexOf("Version/")){return}if(d.stopImmediatePropagation(),h=(new Date).getTime(),al.ie&&a){return d.preventDefault(),void av(j,!0)}e.remove(),e.create(),j.once("keyup",c),j.once("paste",function(){j.off("keyup",c)})}}),j.on("paste",function(m){var v,f,c,p=(new Date).getTime(),k=(v=j,f=bc(m.clipboardData||v.getDoc().dataTransfer),aX.isMsEdge()?aM.extend(f,{"text/html":""}):f),d=(new Date).getTime()-p,w=(new Date).getTime()-h-d<1000,g="text"===i.get()||a,q=aR(k,aj());a=!1,m.isDefaultPrevented()||(c=m.clipboardData,-1!==navigator.userAgent.indexOf("Android")&&c&&c.items&&0===c.items.length)?e.remove():ar(k)||!a8(j,m,e.getLastRng()||j.selection.getRng())?(w||m.preventDefault(),!al.ie||w&&!m.ieFake||aR(k,"text/html")||(e.create(),j.dom.bind(e.getEl(),"paste",function(l){l.stopPropagation()}),j.getDoc().execCommand("Paste",!1,null),k["text/html"]=e.getHtml()),aR(k,"text/html")?(m.preventDefault(),q||(q=ai(k["text/html"])),b(k,w,g,q)):aD.setEditorTimeout(j,function(){b(k,w,g,q)},0)):e.remove()})},bh=function(a){return al.ie&&a.inline?document.body:a.getBody()},ba=function(a,b){var c;bh(c=a)!==c.getBody()&&a.dom.bind(b,"paste keyup",function(d){setTimeout(function(){a.fire("paste")},0)})},bu=function(a){return a.dom.get("mcepastebin")},bl=function(b,a){return a===b},ax=function(c){var b=am(null),a="%MCEPASTEBIN%";return{create:function(){return g=b,k=a,d=(j=c).dom,f=j.getBody(),g.set(j.selection.getRng()),h=j.dom.add(bh(j),"div",{id:"mcepastebin","class":"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},k),(al.ie||al.gecko)&&d.setStyle(h,"left","rtl"===d.getStyle(f,"direction",!0)?65535:-65535),d.bind(h,"beforedeactivate focusin focusout",function(i){i.stopPropagation()}),ba(j,h),h.focus(),void j.selection.select(h,!0);var j,g,k,h,d,f},remove:function(){return function(g,d){if(bu(g)){for(var h=void 0,f=d.get();h=g.dom.get("mcepastebin");){g.dom.remove(h),g.dom.unbind(h)}f&&g.selection.setRng(f)}d.set(null)}(c,b)},getEl:function(){return bu(c)},getHtml:function(){return function(l){var g,j,h,d,f,k=function(m,i){m.appendChild(i),l.dom.remove(i,!0)};for(j=aM.grep(bh(l).childNodes,function(i){return"mcepastebin"===i.id}),g=j.shift(),aM.each(j,function(i){k(g,i)}),h=(d=l.dom.select("div[id=mcepastebin]",g)).length-1;0<=h;h--){f=l.dom.create("div"),g.insertBefore(f,d[h]),k(f,d[h])}return g?g.innerHTML:""}(c)},getLastRng:function(){return b.get()},isDefault:function(){return f=a,g=bu(c),(d=g)&&"mcepastebin"===d.id&&bl(f,g.innerHTML);var f,d,g},isDefaultContent:function(d){return bl(a,d)}}},aE=function(c,b){var a=ax(c);return c.on("preInit",function(){return ab(e=c,a,b),void e.parser.addNodeFilter("img",function(k,h,l){var j,f=function(i){i.attr("data-mce-object")||d===al.transparentSrc||i.remove()};if(!e.settings.paste_data_images&&(j=l).data&&!0===j.data.paste){for(var g=k.length;g--;){(d=k[g].attributes.map.src)&&(0===d.indexOf("webkit-fake-url")?f(k[g]):e.settings.allow_html_data_urls||0!==d.indexOf("data:")||f(k[g]))}}});var e,d}),{pasteFormat:b,pasteHtml:function(f,d){return a7(c,f,d)},pasteText:function(d){return aU(c,d)},pasteImageData:function(f,d){return a8(c,f,d)},getDataTransferItems:bc,hasHtmlOrText:ar,hasContentType:aR}},bo=function(){},bt=function(f,c,g){if(d=f,!1!==al.iOS||d===undefined||"function"!=typeof d.setData||!0===aX.isMsEdge()){return !1}try{return f.clearData(),f.setData("text/html",c),f.setData("text/plain",g),f.setData(aj(),c),!0}catch(b){return !1}var d},aK=function(c,a,d,b){bt(c.clipboardData,a.html,a.text)?(c.preventDefault(),b()):d(a.html,b)},aq=function(a){return function(g,d){var j=at(g),f=a.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),b=a.dom.create("div",{contenteditable:"true"},j);a.dom.setStyles(f,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),f.appendChild(b),a.dom.add(a.getBody(),f);var c=a.selection.getRng();b.focus();var h=a.dom.createRng();h.selectNodeContents(b),a.selection.setRng(h),setTimeout(function(){a.selection.setRng(c),f.parentNode.removeChild(f),d()},0)}},bs=function(a){return{html:a.selection.getContent({contextual:!0}),text:a.selection.getContent({format:"text"})}},ad=function(b){var a,c;b.on("cut",(a=b,function(d){!1===a.selection.isCollapsed()&&aK(d,bs(a),aq(a),function(){setTimeout(function(){a.execCommand("Delete")},0)})})),b.on("copy",(c=b,function(d){!1===c.selection.isCollapsed()&&aK(d,bs(c),aq(c),bo)}))},bn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),af=function(b,a){return bn.getCaretRangeFromPoint(a.clientX,a.clientY,b.getDoc())},bm=function(b,a){b.focus(),b.selection.setRng(a)},ag=function(c,b,a){aw.shouldBlockDrop(c)&&c.on("dragend dragover draggesture dragdrop drop drag",function(d){d.preventDefault(),d.stopPropagation()}),aw.shouldPasteDataImages(c)||c.on("drop",function(f){var d=f.dataTransfer;d&&d.files&&0<d.files.length&&f.preventDefault()}),c.on("drop",function(j){var g,k;if(k=af(c,j),!j.isDefaultPrevented()&&!a.get()){g=b.getDataTransferItems(j.dataTransfer);var h,d=b.hasContentType(g,aj());if((b.hasHtmlOrText(g)&&(!(h=g["text/plain"])||0!==h.indexOf("file://"))||!b.pasteImageData(j,k))&&k&&aw.shouldFilterDrop(c)){var f=g["mce-internal"]||g["text/html"]||g["text/plain"];f&&(j.preventDefault(),aD.setEditorTimeout(c,function(){c.undoManager.transact(function(){g["mce-internal"]&&c.execCommand("Delete"),bm(c,k),f=aX.trimHtml(f),g["text/html"]?b.pasteHtml(f,d):b.pasteText(f)})}))}}}),c.on("dragstart",function(d){a.set(!0)}),c.on("dragover dragend",function(d){aw.shouldPasteDataImages(c)&&!1===a.get()&&(d.preventDefault(),bm(c,af(c,d))),"dragend"===d.type&&a.set(!1)})},a2=function(c){var a=c.plugins.paste,d=aw.getPreProcess(c);d&&c.on("PastePreProcess",function(f){d.call(a,a,f)});var b=aw.getPostProcess(c);b&&c.on("PastePostProcess",function(f){b.call(a,a,f)})};function aW(a,b){a.on("PastePreProcess",function(c){c.content=b(a,c.content,c.internal,c.wordContent)})}function bq(c,a){if(!bk.isWordContent(a)){return a}var d=[];aM.each(c.schema.getBlockElements(),function(g,f){d.push(f)});var b=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+d.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return a=aX.filter(a,[[b,"$1"]]),a=aX.filter(a,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function bv(j,g,l,h){if(h||l){return g}var d,b=aw.getWebkitStyles(j);if(!1===aw.shouldRemoveWebKitStyles(j)||"all"===b){return g}if(b&&(d=b.split(/[, ]/)),d){var k=j.dom,i=j.selection.getNode();g=g.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(u,w,m,c){var v=k.parseStyle(k.decode(m)),q={};if("none"===d){return w+c}for(var f=0;f<d.length;f++){var x=v[d[f]],p=k.getStyle(i,d[f],!0);/color/.test(d[f])&&(x=k.toHex(x),p=k.toHex(p)),p!==x&&(q[d[f]]=x)}return(q=k.serializeStyle(q,"span"))?w+' style="'+q+'"'+c:w+c})}else{g=g.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3")}return g=g.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(f,a,m,c){return a+' style="'+m+'"'+c})}function aL(b,a){b.$("a",a).find("font,u").each(function(d,c){b.dom.remove(c,!0)})}var ac=function(b){var a,c;al.webkit&&aW(b,bv),al.ie&&(aW(b,bq),c=aL,(a=b).on("PastePostProcess",function(d){c(a,d.node)}))},aa=function(a){return function(){return a}},ay=(aa(!1),aa(!0),function(b){for(var c=[],a=1;a<arguments.length;a++){c[a-1]=arguments[a]}for(var d=new Array(arguments.length-1),f=1;f<arguments.length;f++){d[f-1]=arguments[f]}return function(){for(var j=[],h=0;h<arguments.length;h++){j[h]=arguments[h]}for(var k=new Array(arguments.length),i=0;i<k.length;i++){k[i]=arguments[i]}var g=d.concat(k);return b.apply(null,g)}}),br=function(c,a,d){var b=d.control;b.active("text"===a.pasteFormat.get()),c.on("PastePlainTextToggle",function(f){b.active(f.state)})},a4=function(b,a){var c=ay(br,b,a);b.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:c}),b.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:a.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:c})};an.add("paste",function(g){if(!1===au(g)){var d=am(!1),h=am(!1),f=am(aw.isPasteAsTextEnabled(g)?"text":"html"),b=aE(g,f),c=ac(g);return a4(g,b),aJ(g,b,d),a2(g),ad(g),ag(g,b,h),ao(b,c)}})}();
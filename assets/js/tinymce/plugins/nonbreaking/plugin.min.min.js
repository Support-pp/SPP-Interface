!function(){var j=tinymce.util.Tools.resolve("tinymce.PluginManager"),d=function(m,l){var k,a=(k=m).plugins.visualchars&&k.plugins.visualchars.isEnabled()?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";m.insertContent(function(r,q){for(var p="",o=0;o<q;o++){p+=r}return p}(a,l)),m.dom.setAttrib(m.dom.select("span.mce-nbsp"),"data-mce-bogus","1")},g=function(a){a.addCommand("mceNonBreaking",function(){d(a,1)})},h=tinymce.util.Tools.resolve("tinymce.util.VK"),b=function(i){var a=i.getParam("nonbreaking_force_tab",0);return"boolean"==typeof a?!0===a?3:0:a},c=function(i){var a=b(i);0<a&&i.on("keydown",function(e){if(e.keyCode===h.TAB&&!e.isDefaultPrevented()){if(e.shiftKey){return}e.preventDefault(),e.stopImmediatePropagation(),d(i,a)}})},f=function(a){a.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),a.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})};j.add("nonbreaking",function(a){g(a),f(a),c(a)})}();
!function(){var A=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.util.Tools"),B=function(a,d,f){var c="UL"===d?"InsertUnorderedList":"InsertOrderedList";a.execCommand(c,!1,!1===f?null:{"list-style-type":f})},h=function(a){a.addCommand("ApplyUnorderedListStyle",function(c,d){B(a,"UL",d["list-style-type"])}),a.addCommand("ApplyOrderedListStyle",function(c,d){B(a,"OL",d["list-style-type"])})},v=function(a){var c=a.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return c?c.split(/[ ,]/):[]},j=function(a){var c=a.getParam("advlist_bullet_styles","default,circle,disc,square");return c?c.split(/[ ,]/):[]},z=function(a){return a&&/^(TH|TD)$/.test(a.nodeName)},x=function(a){return function(c){return c&&/^(OL|UL|DL)$/.test(c.nodeName)&&(f=c,(d=a).$.contains(d.getBody(),f));var d,f}},w=function(a){var c=a.dom.getParent(a.selection.getNode(),"ol,ul");return a.dom.getStyle(c,"listStyleType")||""},g=function(a){return y.map(a,function(c){return{text:c.replace(/\-/g," ").replace(/\b\w/g,function(d){return d.toUpperCase()}),data:"default"===c?"":c}})},q=function(c,a){return function(d){var e=d.control;c.on("NodeChange",function(f){var m=function(p,r){for(var s=0;s<p.length;s++){if(r(p[s])){return s}}return -1}(f.parents,z),o=-1!==m?f.parents.slice(0,m):f.parents,i=y.grep(o,x(c));e.active(0<i.length&&i[0].nodeName===a)})}},k=function(m,d,s,f,p,c){var a;m.addButton(d,{active:!1,type:"splitbutton",tooltip:s,menu:g(c),onPostRender:q(m,p),onshow:(a=m,function(i){var n=w(a);i.control.items().each(function(e){e.active(e.settings.data===n)})}),onselect:function(e){B(m,p,e.control.settings.data)},onclick:function(){m.execCommand(f)}})},b=function(H,D,m,d,f,C){var p,F,I,G,E;0<C.length?k(H,D,m,d,f,C):(F=D,I=m,G=d,E=f,(p=H).addButton(F,{active:!1,type:"button",tooltip:I,onPostRender:q(p,E),onclick:function(){p.execCommand(G)}}))},l=function(a){b(a,"numlist","Numbered list","InsertOrderedList","OL",v(a)),b(a,"bullist","Bullet list","InsertUnorderedList","UL",j(a))};A.add("advlist",function(a){var d,f,c;f="lists",c=(d=a).settings.plugins?d.settings.plugins:"",-1!==y.inArray(c.split(/[ ,]/),f)&&(l(a),h(a))})}();
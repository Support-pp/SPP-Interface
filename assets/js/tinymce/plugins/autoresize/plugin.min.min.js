!function(){var g=function(a){var h=a,i=function(){return h};return{get:i,set:function(l){h=l},clone:function(){return g(i())}}},x=tinymce.util.Tools.resolve("tinymce.PluginManager"),k=tinymce.util.Tools.resolve("tinymce.Env"),b=tinymce.util.Tools.resolve("tinymce.util.Delay"),j=function(a){return parseInt(a.getParam("autoresize_min_height",a.getElement().offsetHeight),10)},q=function(a){return parseInt(a.getParam("autoresize_max_height",0),10)},c=function(a){return a.getParam("autoresize_overflow_padding",1)},m=function(a){return a.getParam("autoresize_bottom_margin",50)},d=function(a){return a.getParam("autoresize_on_init",!0)},w=function(h,l,s,a,r){b.setEditorTimeout(h,function(){p(h,l),s--?w(h,l,s,a,r):r&&r()},a)},f=function(a,h){var i=a.getBody();i&&(i.style.overflowY=h?"":"hidden",h||(i.scrollTop=0))},p=function(L,G){var A,D,y,h,J,K,M,C,E,I,F,H=L.dom;if(D=L.getDoc()){if((B=L).plugins.fullscreen&&B.plugins.fullscreen.isFullscreen()){f(L,!0)}else{var B;y=D.body,h=j(L),K=H.getStyle(y,"margin-top",!0),M=H.getStyle(y,"margin-bottom",!0),C=H.getStyle(y,"padding-top",!0),E=H.getStyle(y,"padding-bottom",!0),I=H.getStyle(y,"border-top-width",!0),F=H.getStyle(y,"border-bottom-width",!0),J=y.offsetHeight+parseInt(K,10)+parseInt(M,10)+parseInt(C,10)+parseInt(E,10)+parseInt(I,10)+parseInt(F,10),(isNaN(J)||J<=0)&&(J=k.ie?y.scrollHeight:k.webkit&&0===y.clientHeight?0:y.offsetHeight),J>j(L)&&(h=J);var v=q(L);v&&v<J?(h=v,f(L,!0)):f(L,!1),h!==G.get()&&(A=h-G.get(),H.setStyle(L.iframeElement,"height",h+"px"),G.set(h),k.webkit&&A<0&&p(L,G))}}},z={setup:function(a,h){a.on("init",function(){var i,l,o=a.dom;i=c(a),l=m(a),!1!==i&&o.setStyles(a.getBody(),{paddingLeft:i,paddingRight:i}),!1!==l&&o.setStyles(a.getBody(),{paddingBottom:l})}),a.on("nodechange setcontent keyup FullscreenStateChanged",function(i){p(a,h)}),d(a)&&a.on("init",function(){w(a,h,20,100,function(){w(a,h,5,1000)})})},resize:p},e=function(a,h){a.addCommand("mceAutoResize",function(){z.resize(a,h)})};x.add("autoresize",function(a){if(!a.inline){var h=g(0);e(a,h),z.setup(a,h)}})}();
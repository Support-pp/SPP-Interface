!function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager"),b=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=function(f){f=b.trim(f);var g=function(h,e){f=f.replace(h,e)};return g(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),g(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),g(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),g(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),g(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),g(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),g(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),g(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),g(/<font>(.*?)<\/font>/gi,"$1"),g(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),g(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),g(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),g(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),g(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),g(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),g(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),g(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),g(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),g(/<\/(strong|b)>/gi,"[/b]"),g(/<(strong|b)>/gi,"[b]"),g(/<\/(em|i)>/gi,"[/i]"),g(/<(em|i)>/gi,"[i]"),g(/<\/u>/gi,"[/u]"),g(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),g(/<u>/gi,"[u]"),g(/<blockquote[^>]*>/gi,"[quote]"),g(/<\/blockquote>/gi,"[/quote]"),g(/<br \/>/gi,"\n"),g(/<br\/>/gi,"\n"),g(/<br>/gi,"\n"),g(/<p>/gi,""),g(/<\/p>/gi,"\n"),g(/&nbsp;|\u00a0/gi," "),g(/&quot;/gi,'"'),g(/&lt;/gi,"<"),g(/&gt;/gi,">"),g(/&amp;/gi,"&"),f},a=function(f){f=b.trim(f);var g=function(h,e){f=f.replace(h,e)};return g(/\n/gi,"<br />"),g(/\[b\]/gi,"<strong>"),g(/\[\/b\]/gi,"</strong>"),g(/\[i\]/gi,"<em>"),g(/\[\/i\]/gi,"</em>"),g(/\[u\]/gi,"<u>"),g(/\[\/u\]/gi,"</u>"),g(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),g(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),g(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),g(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),g(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),g(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),f};d.add("bbcode",function(){return{init:function(e){e.on("beforeSetContent",function(f){f.content=a(f.content)}),e.on("postProcess",function(f){f.set&&(f.content=a(f.content)),f.get&&(f.content=c(f.content))})}}})}();
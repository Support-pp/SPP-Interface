!function(){var b=tinymce.util.Tools.resolve("tinymce.PluginManager"),h=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function(j,k){var c,m=j.dom,l=j.selection.getSelectedBlocks();l.length&&(c=m.getAttrib(l[0],"dir"),h.each(l,function(e){m.getParent(e.parentNode,'*[dir="'+k+'"]',m.getRoot())||m.setAttrib(e,"dir",c!==k?k:null)}),j.nodeChanged())},a=function(c){c.addCommand("mceDirectionLTR",function(){d(c,"ltr")}),c.addCommand("mceDirectionRTL",function(){d(c,"rtl")})},g=function(j){var c=[];return h.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(e){c.push(e+"[dir="+j+"]")}),c.join(",")},f=function(c){c.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:g("ltr")}),c.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:g("rtl")})};b.add("directionality",function(c){a(c),f(c)})}();
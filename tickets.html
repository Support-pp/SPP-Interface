<!--
  ~ Created by: Support++
  ~ Date: 03.07.18 21:28
  ~ Project: Support++ Webinterface
  -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="author" content="Support++">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Material Design Bootstrap</title>
    <!-- Font Awesome -->
    <link href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" rel="stylesheet">
    <!-- Bootstrap core CSS -->
    <link type="text/css" href="./assets/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link type="text/css" href="./assets/css/mdb.min.css" rel="stylesheet">
    <!-- QuillJS -->
    <link type="text/css" href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <!-- jKanban -->
    <link type="text/css" href="./assets/css/jkanban.min.css" rel="stylesheet">
    <!-- Your custom styles -->
    <link type="text/css" href="./assets/css/style.min.css" rel="stylesheet">
</head>

<body>

<!-- Content -->
<!-- Version Info -->
<div class="container-fluid warning-color-dark white-text font-weight-bold py-2">
    <div class="row">
        <div class="col-12 text-center">Please update to our latest stable version {VERSION}
            <a href="https://github.com/Support-pp/Support-pp/releases/latest" target="_blank _parent" class="btn btn-indigo white-text btn-sm ml-3">
                <i class="fas fa-download mr-2" aria-hidden="true"></i><strong>New Release</strong>
            </a>
        </div>
    </div>
</div>
<!-- /Version Info -->

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark unique-color-dark">
    <a href="https://support-pp.de/" class="navbar-brand px-lg-4 mr-0 white-text"><img src="./assets/img/icon.png" height="30" alt=""/><span
            class="d-inline d-lg-none"> Support++</span></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#headNav" aria-controls="headNav" aria-expanded="false"
            aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="headNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
            <li class="nav-item active"><a href="tickets.html" class="nav-link">Tickets <span class="sr-only">(current)</span></a></li>
            <li class="nav-item"><a href="#" class="nav-link">Feedback</a></li>
            <li class="nav-item"><a href="info.html" class="nav-link"><i class="fas fa-info"></i> Info</a></li>
            <li class="nav-item"><a href="#" class="nav-link disabled"><i class="far fa-life-ring"></i> Remote Help</a></li>
        </ul>
        <ul class="navbar-nav ml-auto nav-flex-icons">
            <li class="nav-item avatar white-text">
                <div class="d-inline mr-3">{USERNAME}</div><img src="/assets/img/testUser.png" class="rounded-circle z-depth-0" alt="avatar image" height="35px">
            </li>
        </ul>
    </div>
</nav>
<!-- /Navigation -->

<!-- Ticket View -->
<div class="modal fade right" id="ticketView" tabindex="-1" role="dialog" aria-labelledby="ticketLabel" aria-hidden="true" data-backdrop="true">
    <div class="modal-dialog modal-full-height modal-right modal-lg" role="document">
        <div class="modal-content ">
            <div class="modal-header unique-color-dark white-text align-items-center">
                <p class="heading lead mb-0"><i class="fas fa-eye"></i> Ticket Overview</p>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">Ã—</span>
                </button>
            </div>
            <div class="modal-body rgba-grey-slight">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="btn-group" role="group">
                                            <button class="btn btn-sm btn-red" type="button"><i class="fas fa-trash fa-lg"></i></button>
                                            <div type="btn-group" role="group">
                                                <button class="btn btn-indigo dropdown-toggle" id="labelDropdown" type="button" data-toggle="dropdown"
                                                        aria-haspopup="true" aria-expanded="false">Label
                                                </button>
                                                <div class="dropdown-menu" aria-labelledby="labelDropdown">
                                                    <a href="#" class="dropdown-item"><i class="fas fa-arrow-up red-text"></i> High</a>
                                                    <a href="#" class="dropdown-item"><i class="fas fa-arrow-right orange-text"></i> Medium</a>
                                                    <a href="#" class="dropdown-item"><i class="fas fa-arrow-down green-text"></i> Low</a>
                                                    <div class="dropdown-divider"></div>
                                                    <a href="#" class="dropdown-item"><i class="fas fa-circle grey-text"></i> Archived</a>
                                                </div>
                                            </div>
                                        </div>
                                        <button class="btn btn-indigo" type="button">Assign</button>
                                    </div>
                                    <div class="col-12">
                                        <div class="tinymce-read">
                                            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
                                                magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                                gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
                                                elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
                                                et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
                                                sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                                                et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
                                                kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
                                            <br/>
                                            <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat
                                                nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue
                                                duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet,
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <hr/>
                                    </div>
                                    <div class="col-12 mt-1">
                                        <button class="btn collapse-btn" id="ticketAnswer1" type="button" data-toggle="collapse"
                                                data-target="#ticketAnswerFull1" aria-expanded="false" aria-controls="ticketAnswerFull1">
                                            <i class="fas fa-angle-down"></i>
                                        </button>
                                        <h6 class="d-inline-block font-weight-bold mb-0 ml-1" style="line-height: 1.6;">{USER} has answered - {DATE} {TIME}</h6>
                                        <h6 class="d-inline-block float-right"><span class="badge badge-default float-right">Creator</span></h6>
                                        <div class="collapse show" id="ticketAnswerFull1">
                                            <div class="mt-0">
                                                <div class="tinymce-read">
                                                    <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
                                                        magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                                        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
                                                        elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
                                                        et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
                                                        sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                                                        et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
                                                        kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
                                                    <br/>
                                                    <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat
                                                        nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue
                                                        duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet,
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 mt-1">
                                        <button class="btn collapse-btn" id="ticketAnswer2" type="button" data-toggle="collapse"
                                                data-target="#ticketAnswerFull2" aria-expanded="false" aria-controls="ticketAnswerFull2">
                                            <i class="fas fa-angle-down"></i>
                                        </button>
                                        <h6 class="d-inline-block font-weight-bold mb-0 ml-1" style="line-height: 1.6;">{USER} has answered - {DATE} {TIME}</h6>
                                        <h6 class="d-inline-block float-right"><span class="badge badge-secondary float-right">Assignee</span></h6>
                                        <div class="collapse show" id="ticketAnswerFull2">
                                            <div class="mt-0">
                                                <div class="tinymce-read">
                                                    <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
                                                        magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                                        gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
                                                        elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
                                                        et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
                                                        sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                                                        et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
                                                        kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
                                                    <br/>
                                                    <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat
                                                        nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue
                                                        duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet,
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 mt-3 pl-0">
                                        <h4>Reply:</h4>
                                    </div>
                                    <div class="col-12 px-0">
                                        <div class="tinymce" id="replyEdit">
                                            <p>Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore
                                                magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd
                                                gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing
                                                elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos
                                                et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor
                                                sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
                                                et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
                                                kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. </p>
                                            <p>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse molestie consequat, vel illum dolore eu feugiat
                                                nulla facilisis at vero eros et accumsan et iusto odio dignissim qui blandit praesent luptatum zzril delenit augue
                                                duis dolore te feugait nulla facilisi. Lorem ipsum dolor sit amet,
                                            </p>
                                        </div>
                                    </div>
                                    <div class="col-12 mt-1">
                                        <button type="button" class="btn btn-success float-right" onclick="test()">Reply <i class="fas fa-paper-plane fa-lg"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="container-fluid sticky-top" id="#ticketOverview">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="align-items-center">
                                            <button class="btn collapse-btn" id="ticketUser" type="button" data-toggle="collapse"
                                                    data-target="#ticketUserInfo" aria-expanded="false" aria-controls="ticketUserInfo">
                                                <i class="fas fa-angle-down"></i>
                                            </button>
                                            <h6 class="d-inline-block font-weight-bold mb-0 ml-1" style="line-height: 1.6;">User</h6>
                                        </div>
                                        <div class="collapse show" id="ticketUserInfo">
                                            <div class="mt-0">
                                                <div class="container-fluid inbox-p0">
                                                    <div class="row">
                                                        <div class="col-4 grey-dark-text">Assignee:</div>
                                                        <div class="col-8">{ASSIGNEE}</div>
                                                        <div class="col-4 grey-dark-text">Creator:</div>
                                                        <div class="col-8">{CREATOR}</div>
                                                        <div class="col-4 grey-dark-text mb-0">UUID:</div>
                                                        <div class="col-12">
                                                            <small>{UUID}</small>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12 mt-2">
                                        <div class="align-items-center">
                                            <button class="btn collapse-btn" id="ticketInfo" type="button" data-toggle="collapse"
                                                    data-target="#ticketInfoInfo" aria-expanded="false" aria-controls="ticketInfoInfo">
                                                <i class="fas fa-angle-down"></i>
                                            </button>
                                            <h6 class="d-inline-block font-weight-bold mb-0 ml-1" style="line-height: 1.6;">Information</h6>
                                        </div>
                                        <div class="collapse show" id="ticketInfoInfo">
                                            <div class="mt-0">
                                                <div class="container-fluid inbox-p0">
                                                    <div class="row">
                                                        <div class="col-4 grey-dark-text">Topic:</div>
                                                        <div class="col-8">{TOPIC}</div>
                                                        <div class="col-4 grey-dark-text">Label:</div>
                                                        <div class="col-8"><i class="fas fa-arrow-up red-text"></i> High</div>
                                                        <div class="col-4 grey-dark-text">Label:</div>
                                                        <div class="col-8"><i class="fas fa-arrow-right orange-text"></i> Medium</div>
                                                        <div class="col-4 grey-dark-text">Label:</div>
                                                        <div class="col-8"><i class="fas fa-arrow-down green-text"></i> Low</div>
                                                        <div class="col-4 grey-dark-text">Label:</div>
                                                        <div class="col-8"><i class="fas fa-circle grey-text"></i> Archived</div>
                                                        <div class="col-4 grey-dark-text">Created:</div>
                                                        <div class="col-8">{CREATE_DATE}</div>
                                                        <div class="col-4 grey-dark-text">Updated:</div>
                                                        <div class="col-8">{UPDATE_DATE}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- /Ticket View -->

<!-- Kanban -->
<div id="Tickets"></div>
<!-- /Kanban -->
<!-- /Content -->

<!-- SCRIPTS -->
<!-- JQuery -->
<script type="text/javascript" src="./assets/js/jquery-3.3.1.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="./assets/js/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="./assets/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="./assets/js/mdb.min.js"></script>

<!-- TinyMCE -->
<script type="text/javascript" src="./assets/js/tinymce/tinymce.min.js"></script>
<script type="text/javascript" src="./assets/js/tinymce/jquery.tinymce.min.js"></script>
<!-- Bootstrap Handler -->
<script type="text/javascript">
    // Prevent jQuery UI dialog from blocking focusin
    $(document).on('focusin', function(e) {
        if ($(e.target).closest(".mce-window, .moxman-window").length) {
            e.stopImmediatePropagation();
        }
    });

</script>
<script type="text/javascript">
    tinymce.init({
        selector: '#replyEdit',
        branding: false,
        plugins: ["bbcode", "autoresize", "link", "textcolor", "colorpicker", "code"],
        autoresize_bottom_margin: 1,
        statusbar: false,
        menubar: false,
        resize: false,
        toolbar: "undo redo | bold italic underline | cut copy paste | link unlink | forecolor | removeformat | code"
    });
    tinymce.init({
        selector: 'div.tinymce-read',
        branding: false,
        readonly: 1,
        plugins: "autoresize",
        autoresize_bottom_margin: 1,
        toolbar: false,
        resize: false,
        statusbar: false,
        menubar: false,
    });
</script>

<!-- jKanban -->
<script type="text/javascript" src="./assets/js/jkanban.js"></script>
<script type="text/javascript">
    let KanbanTest = new jKanban({
        element: '#Tickets',
        gutter: '1rem',
        widthBoard: '440px',
        responsivePercentage: true,
        addItemButton: false,
        dragBoards: false,
        boards: [
            {
                "id": "open_tickets",
                "title": "Open Tickets",
                "class": "amber,dark-text",
                "item": [
                    {
                        "id": "ticket-3",
                        "title": "Ticket 3 <span class=\"badge badge-danger float-right\">High</span>"
                    },
                    {
                        "id": "ticket-1",
                        "title": "Ticket 1 <span class=\"badge badge-warning float-right\">Medium</span>"
                    },
                    {
                        "id": "ticket-2",
                        "title": "Ticket 2<span class=\"badge badge-success float-right\">Low</span>"
                    },
                    {
                        "id": "ticket-4",
                        "title": "Ticket 4<span class=\"badge badge-light float-right\">Archived</span>"
                    }
                ]
            },
            {
                "id": "progress_tickets",
                "title": "Tickets in progress",
                "class": "indigo,white-text",
            },
            {
                "id": "closed_tickets",
                "title": "Closed Tickets",
                "class": "success-color-dark,white-text",
            }
        ],
        click: function (el) {
            $('#ticketView').modal('show');
        },
        dropEl: function (el, target, source, sibling) {
            console.log(el);
            console.log(target);
            console.log(source);
            console.log(sibling);
        }
    })
</script>

<!-- Custom -->
<script type="text/javascript">
    $('.collapse-btn').each(function () {
        let target = $( this ).data('target');
        let targetID = "#" + $( this ).attr('id');
        $(target).on('hide.bs.collapse', function () {
            $(targetID).addClass("unshown");
        }).on('show.bs.collapse', function () {
            $(targetID).removeClass("unshown");
        });
    });
</script>
<script type="text/javascript">
    function test(){
        console.log(tinymce.activeEditor.getContent({format: 'bbcode'}));
    }
</script>
</body>

</html>
